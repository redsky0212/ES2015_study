<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="uft-8" />
        <title>실습1</title>
    </head>
    <body>

        <ul>
            <li>apple</li>
            <li>orange</li>
            <li>banana</li>
            <li>strawberry</li>
        </ul>
        <script>
function ready(){
    let list = document.querySelectorAll('li');
    list = Array.from(list);    // NodeList를 Array 로 변경.
    
    // from으로 Array로 변환했기때문에 filter를 쓸 수 있음.
    let newArr = list.filter(function( val ){
        return val.textContent.includes('e');   // text에 'e'가 포함된 node만 return한다.
    });

    console.log(newArr);

    // 간단한 object사용법
    let obj = {
        list
        ,bbb(){ return 'cc'; }
        ,newArr
    }
    console.log(obj);

    // destructuring 배열에서 사용법
    let data = [1,2,3,4,5,6,7];
    let [first,,,fourth] = data;
    console.log(first,fourth);
}

//  기본형태의 Class사용법--------------------------------
function Area(h,w){
    this.h = h;
    this.w = w;
}
Area.prototype.getArea = function(){
    return this.h * this.w;
};

let myArea = new Area(10, 20);
console.log(myArea.getArea());
console.log(myArea.h);
//-------------------------------------------------------------

// WeakMap을 활용하여 Class안의 변수를 private하게 함----------------
const wm = new WeakMap();

function Area2(h,w){
    wm.set(this, {h,w}); // h,w를 전역 wm에 this키로 숨겨놓음.
}
Area2.prototype.getArea = function(){
    let {h, w} = wm.get(this);
    return h*w;
};

let myArea2 = new Area2(10, 20);
console.log(myArea2.getArea());
console.log(myArea2.h); // 당연히 없음.
//------------------------------------------------------------------



document.addEventListener("DOMContentLoaded", ready);
        </script>
    </body>
</html>